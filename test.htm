<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Upload to S3</title>
	<script src="https://sdk.amazonaws.com/js/aws-sdk-2.822.0.min.js"></script>
</head>
<body>
	<h1>Upload to S3</h1>
	<form id="uploadForm">
		<label for="region">Select AWS region:</label>
		<select name="region" id="region">
			<option value="us-east-1">US East (N. Virginia)</option>
			<option value="us-west-1">US West (N. California)</option>
		</select><br><br>
		<label for="bucketName">S3 bucket name:</label>
		<input type="text" name="bucketName" id="bucketName"><br><br>
		<label for="file">Choose file:</label>
		<input type="file" name="file" id="file"><br><br>
		<button type="button" onclick="uploadFile()">Upload file</button>
	</form>
	<div id="debugInfo"></div>

	<script>
		function uploadFile() {
			var bucketName = document.getElementById("bucketName").value;
			var region = document.getElementById("region").value;
			var file = document.getElementById("file").files[0];
			if (!bucketName || !file) {
				alert("Please enter a bucket name and select a file");
				return;
			}
			var s3 = new AWS.S3({
				apiVersion: "2006-03-01",
				params: { Bucket: bucketName },
				region: region
			});
			var params = {
				Key: file.name,
				ContentType: file.type,
				Body: file
			};
			s3.upload(params, function(err, data) {
				if (err) {
					document.getElementById("debugInfo").innerHTML = "Error: " + err;
				} else {
					document.getElementById("debugInfo").innerHTML = "Upload successful";
				}
			});
		}
	</script>
</body>
</html>
